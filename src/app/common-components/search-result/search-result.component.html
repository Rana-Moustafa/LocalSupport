<div *ngIf="isLoading" class="loading-spinner">
    <app-loading-spinner></app-loading-spinner>
</div>
<div class="container padding-top">
    <section class="places-category__list">

        <div class="places-results">
            <div class="filter side-nav" [ngClass]="{ 'open': sideNav === true }">
                <div class="close">
                    <div (click)="toggleSideNav()">
                        <img src="../../../assets/images/cancel.svg" alt="" class="img-thumbnail">
                    </div>
                </div>
                <app-filter (placesHandlerEvent)="sendFilterPlaces($event)"></app-filter>
            </div>
            <h4 class="subtitle">
                {{'Your_search_results' | translate}}
            </h4>
            <div class="btn-filter">
                <button class="btn btn-secondary" type="button" (click)="toggleSideNav()">
                    <img src="../../../assets/images/filter.svg" alt=""
                        class="img-thumbnail">
                    {{"filter" | translate}}
                </button>
            </div>
            <div class="places-results__wrapper">

                <div class="row search-results">
                    <div class="col-lg-12">

                        <div class="result-notfound" *ngIf="notfound">
                            <div class="result-notfound__image">
                                <img src="../../../assets/images/pin.png" alt="" class="img-thumbnail">
                            </div>
                            <p class="result-notfound__text">
                                {{ 'no_search_results'  | translate }}
                            </p>
                        </div>
                    </div>
                    <div class="row search-results" infiniteScroll  [immediateCheck]="true"
                        [infiniteScrollDisabled]="isFullListDisplayed"
                        (scrolled)="((allPlaces.length > 0) ? getFilterPlaces() : searchQuery(searchWord, langURL))">
                        <a [routerLink]="['/'+langURL, 'single-place', place.id, place.slug]"
                            class="col-lg-3 col-sm-6 col-xs-12 places-results-item"
                            *ngFor="let place of ((allPlaces.length > 0) ? allPlaces : allSearchPlaces)">

                            <div class="places-results__img">
                                <img [src]="place.featured_image?place.featured_image.url: '../../../assets/images/icon-img-placeholder.svg'"
                                    alt="" class="img-thumbnail">
                            </div>
                            <div class="places-results__content">
                                <div class="place-name-link">
                                    <h6 class="places-results__place-name"
                                    [innerHTML]="place.title.rendered? place.title.rendered: ' '">
                                    </h6>
                                </div>

                                <div class="description">
                                    <p class="text" [innerHTML]="place.description ? (place.description | slice:0:100)+'...' : ''">
                                    </p>
                                        <div *ngIf="place && place.category; first as isFirst">
                                            <span *ngFor="let category of place.category" class="badge"
                                            [innerHTML]="category"> 
                                            </span>
                                          </div>
                                      <p>  <a [routerLink]="['/'+langURL, 'single-place', place.id, place.slug]" class="read-more">
                                            {{"read_more" | translate}}</a></p>
                                </div>
                     
                            </div>
                        </a>
                    </div>
                    <!-- end -->
                </div>

            </div>
        </div>

    </section>
</div>